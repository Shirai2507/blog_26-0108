---
title: "よく使うGitコマンド"
date: "2026-01-13"
category: "Git"
description: "よく使うGitコマンド一覧。GitHubとの連携も含む。"
slug: "git_26-0110-1751"
thumbnail: "/images/git_26-0110-1751_img01.png"
---
<br>

## Gitインストール後 初回だけ行う登録
![代替テキスト](/images/git_26-0110-1751_img01.png)

ユーザー名「sample-name」を登録する。
```
git config --global user.name 'sample-name'
```
<br>

メールアドレス「sample-email@sample012345.com」を登録する。
```
git config --global user.email 'sample-email@sample012345.com'
```
<br><br>

## 適宜使うコマンド

プロジェクトフォルダをGitのよるバージョン管理の対象にする。<br>
コマンドを実行するとコマンド実行階層に「.git」フォルダ(隠し)が生成される。
```
git init
```
<br>

ワークツリー、ステージング、リポジトリ間のファイル位置や、新規追加・変更されたファイルを表示する。
```
git status
```
<br>

コミット履歴を表示する。
```
git log
```
<br>

ワークツリーとステージングの差分を表示する。<br>
ワークツリーで行った新規追加or変更の内容が分かる。
```
git diff
```
<br>

「newFile.txt」を直近のコミット時の状態に戻す。
```
git restore newFile.txt
```
<br>

<br>

## ステージング、リポジトリへの登録

「newFile.txt」をステージングに登録する。
```
git add newFile.txt
```
<br>

新規追加・変更されたファイルを全てステージングに登録する。
```
git add .
```
<br>

<hr>

ステージングに登録されているファイルをリポジトリに登録する。 <br>
更新内容の説明コメント「初めてのコミット」。
```
git commit -m "初めてのコミット"
```
<br>

<br>

## ブランチ

存在するブランチを一覧表示する。 <br>
現在選択されているブランチは緑色で表示される。
```
git branch
```
<br>

「bc1」ブランチを作成する。
```
git branch bc1
```
<br>

編集対象のブランチを「bc1」に切り替える。
```
git switch bc1
```
<br>

「bc1」ブランチを現在選択中のブランチへ統合する。
```
git merge bc1
```
<br>

「bc1」ブランチを削除する。
```
git merge bc1
```
>「master」(or main)ブランチへの統合が終わった等で不要になったブランチを削除する。
ブランチ統合後に「master」(or main)ブランチで リポジトリ登録まで完了していないと削除がうまくいかない。

<br><br>

## GitHubとの連携

リモートリポジトリを「origin」というショートカット名でローカルリポジトリに登録する。<br>
・URL(HTTPS): https://github.com/sample-user/project0123.git
```
git remote add origin https://github.com/sample-user/project0123.git
```
<br>

ローカルリポジトリの「master」ブランチをリモートリポジトリにアップロードする。<br>
・リモートリポジトリのショートカット名: origin
```
git push origin master
```
<br>

リポートリポジトリの「master」ブランチを、ローカルリポジトリの「master」ブランチに上書きする。
```
git pull origin master
```
<br>

リポートリポジトリのプロジェクトフォルダを丸ごとカレントディレクトリにコピーする。
```
git clone https://github.com/sample-user/project0123.git
```
<br><br>

### GitHub上のチーム運用の一例

1. リモートリポジトリの「master」（or main)ブランチの管理人がまず存在する。<br>

2. 作業用ブランチをリモートリポジトリにアップロードする。<br>

3. その作業用ブランチの新規作成・変更内容を「master」（or main)ブランチの管理人がレビューする。<br>

4. 問題なければ管理人が「master」（or main)ブランチへ作業用ブランチを統合する。<br>

5. ローカルリポジトリの「master」（or main)ブランチへ反映する。<br>

6. ローカルリポジトリの不要なブランチは削除する。

<br><br>

### pullでよくあるトラブル

◆症状: ローカルへの上書きに失敗する。<br>
・原因: ローカルに未コミットの変更がある<br>
・対策: 未コミットの変更を破棄してからpullする。
```
git reset --hard
git clean -fd
git pull origin master
```
>1行目: Gitが管理しているファイル(= M になってるやつ)の変更を、全部なかったことにして元に戻すコマンド。「--hard」はファイルの中身まで強制的に戻す指定。元に戻せないので注意。<br><br>
2行目: 「新規作成したけど addしてないファイル」などを消す。「-f」は強制。「-d」はフォルダも対象にする指定。<br><br>
3行目: いつも使うpullコマンド。

<br>
<hr>

◆症状: ローカルへの上書き成功したのに最新のデザインが反映されない。<br>
・原因: TailwindやNextの生成キャッシュが残っている。<br>
・対策: Next.jsが作った一時ファイル置き場(.nextフォルダ)を、丸ごと強制削除する。(gitコマンドとは別ターミナルにて)
```
Remove-Item -Recurse -Force .next
npm run dev
```
>コマンド実行前: サーバ停止。<br><br>
1行目: 「Remove-Item」はPowerShellの削除コマンド。「-Recurse」はフォルダの中身も、その中のフォルダも、全部まとめて削除。「-Force」は細かい制限を無視して強制的に消す。「.next」は削除対象のフォルダ名。<br><br>
2行目: サーバ起動



<br><br>
